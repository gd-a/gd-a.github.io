---
layout: default
title: prairie
permalink: /prairie/
---

<div class="prairie-root">
	<section class="prairie-progress" aria-labelledby="prairie-heading">
		<h2 id="prairie-heading" class="prairie-sr-only">Progression du trajet Prairie</h2>

		<div class="prairie-track" id="prairie-track" aria-hidden="false">
			<!-- Puces pour Puzzle -->
			<div id="prairie-bullets" class="prairie-bullets prairie-bullets--hidden" aria-hidden="true">
				<span class="prairie-bullet" data-bullet="0"></span>
				<span class="prairie-bullet" data-bullet="1"></span>
				<span class="prairie-bullet" data-bullet="2"></span>
				<span class="prairie-bullet" data-bullet="3"></span>
				<span class="prairie-bullet" data-bullet="4"></span>
			</div>

			<!-- Ligne pointill√©e version sci-fi -->
			<div class="prairie-line" aria-hidden="true"></div>

			<!-- Portion d√©j√† parcourue en trait plein -->
			<div class="prairie-line-completed" aria-hidden="true"></div>

			<!-- Extr√©mit√©s -->
			<div class="prairie-endpoint prairie-endpoint--left" data-entry-id="endpoint-left" role="button"
				tabindex="0" aria-label="Arriv√©e"></div>

			<div class="prairie-endpoint prairie-endpoint--right" data-entry-id="endpoint-right" role="button"
				tabindex="0" aria-label="D√©part ‚Äì Mars"></div>

			<!-- Curseur -->
			<div class="prairie-pointer" id="prairie-pointer" aria-label="Position actuelle sur le trajet"></div>

			<!-- Jalons inject√©s via JavaScript -->
		</div>

		<div class="prairie-legend">
			<span id="prairie-date-label"></span>
			<span id="prairie-distance-label"></span>
		</div>

		<!-- Riddle placeholder -->
		<div id="prairie-riddle" class="prairie-riddle">
			<p class="prairie-earth-legend">
				<span>#bienvenue chez nous, voyageur.</span><br>
				<span>Quelle f√©licit√© est la n√¥tre que votre chemin ait abouti ici.</span>
			</p>
		</div>
	</section>

	<!-- Journal simple -->
	<section id="prairie-journal" class="prairie-journal prairie-journal--hidden" aria-live="polite">
		<header class="prairie-journal-header">
			<div>
				<h2 id="prairie-journal-title"></h2>
				<p id="prairie-journal-date" class="prairie-journal-date"></p>
			</div>
			<button type="button" id="prairie-journal-close" class="prairie-journal-close"
				aria-label="Fermer le journal">
				√ó
			</button>
		</header>

		<div class="prairie-journal-layout">
			<div class="prairie-journal-main">
				<div id="prairie-journal-main-article" class="prairie-journal-main-article"></div>
				<div id="prairie-journal-secondary" class="prairie-journal-secondary"></div>
			</div>
		</div>
	</section>

	<!-- Pied de page -->
	<footer class="prairie-footer-symbols" aria-hidden="true">
		‚Üí <span class="prairie-footer-earth">üú®</span>
	</footer>
</div>

<style>
	:root {
		/* 0 = d√©part (cercle rouge √† droite), 1 = arriv√©e (cercle bleu √† gauche) */
		--prairie-progress: 0;
	}

	body {
		margin: 0;
		padding: 0;
		background: #000000;
		color: #dddddd;
	}

	/* Masquer le H1 inject√© par Jekkyl et l‚Äôancien titre visible */
	main h1,
	.page-title,
	.prairie-title,
	.markdown-body h1 {
		display: none !important;
	}

	.prairie-root {
		min-height: 100vh;
		display: flex;
		flex-direction: column;
	}

	/* Texte uniquement pour lecteurs d‚Äô√©cran */
	.prairie-sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border: 0;
	}

	/* Progression */

	.prairie-progress {
		max-width: 100%;
		width: 100%;
		margin: 6vh auto 4vh;
		padding: 0;
		position: relative;
	}

	.prairie-track {
		position: relative;
		width: 100%;
		height: 12vh;
		min-height: 90px;
		z-index: 3;
	}

	/* Puces pour Puzzle */

	.prairie-bullets {
		position: absolute;
		left: 50%;
		top: calc(50% - 28px);
		transform: translateX(-50%);
		display: flex;
		gap: 10px;
		z-index: 5;
	}

	.prairie-bullets--hidden {
		opacity: 0;
		visibility: hidden;
		transform: translateX(-50%) translateY(-6px);
		transition: opacity 0.2s ease, transform 0.2s ease, visibility 0s linear 0.2s;
	}

	.prairie-bullets--visible {
		opacity: 1;
		visibility: visible;
		transform: translateX(-50%) translateY(0);
		transition: opacity 0.2s ease, transform 0.2s ease;
	}

	.prairie-bullet {
		width: 9px;
		height: 9px;
		border-radius: 999px;
		background: transparent;
		border: 1px solid transparent;
		box-shadow: 0 0 10px rgba(255, 255, 255, 0.06);
	}

	.prairie-bullet--armed {
		border-color: #d8d8d8;
	}

	.prairie-bullet--on {
		background: #d8d8d8;
		border-color: #d8d8d8;
		box-shadow:
			0 0 8px rgba(216, 216, 216, 0.35),
			0 0 14px rgba(216, 216, 216, 0.18);
	}

	/* Ligne */

	.prairie-line {
		position: absolute;
		top: 50%;
		left: 10%;
		width: 80%;
		height: 4px;
		transform: translateY(-50%);
		background-image:
			radial-gradient(circle,
				rgba(190, 190, 190, 0.9) 0,
				rgba(190, 190, 190, 0.9) 45%,
				transparent 55%);
		background-size: 8px 4px;
		background-repeat: repeat-x;
		opacity: 0.65;
		border-radius: 999px;
		filter: drop-shadow(0 0 6px rgba(200, 200, 200, 0.35));
		z-index: 0;
		pointer-events: none;
	}

	.prairie-line-completed {
		position: absolute;
		top: 50%;
		left: 10%;
		width: 80%;
		height: 8px;
		transform: translateY(-50%);
		pointer-events: none;
		z-index: 1;
	}

	.prairie-line-completed::before {
		content: "";
		position: absolute;
		top: 50%;
		right: 0;
		transform: translateY(-50%);
		height: 4px;
		width: calc(var(--prairie-progress) * 100%);
		background: rgba(200, 200, 200, 0.68);
		border-radius: 999px;
		box-shadow:
			0 0 6px rgba(220, 220, 220, 0.6),
			0 0 10px rgba(220, 220, 220, 0.4);
	}

	/* Extr√©mit√©s */

	.prairie-endpoint {
		position: absolute;
		top: 50%;
		transform: translate(-50%, -50%);
		border-radius: 50%;
		z-index: 2;
		cursor: pointer;
		pointer-events: auto;
		outline: none;
	}

	.prairie-endpoint--left {
		left: 10%;
		width: 1.5vw;
		height: 1.5vw;
		min-width: 20px;
		min-height: 20px;
		background: #2f8bff;
		box-shadow:
			0 0 10px rgba(80, 170, 255, 0.9),
			0 0 22px rgba(80, 170, 255, 0.6);
	}

	.prairie-endpoint--right {
		left: 90%;
		width: 1vw;
		height: 1vw;
		min-width: 16px;
		min-height: 16px;
		background: #ff7b45;
		box-shadow:
			0 0 10px rgba(255, 136, 76, 0.9),
			0 0 22px rgba(255, 136, 76, 0.6);
	}

	.prairie-endpoint--active {
		transform: translate(-50%, -50%) scale(1.15);
	}

	/* Curseur */

	.prairie-pointer {
		position: absolute;
		top: 50%;
		left: calc(10% + (1 - var(--prairie-progress)) * 80%);
		width: 1.1vw;
		height: 1.1vw;
		min-width: 18px;
		min-height: 18px;
		border-radius: 50%;
		background: #d8d8d8;
		border: 1px solid #f0f0f0;
		transform: translate(-50%, -50%);
		z-index: 3;
		overflow: visible;
		pointer-events: none;
	}

	.prairie-pointer::before,
	.prairie-pointer::after {
		content: "";
		position: absolute;
		inset: 0;
		border-radius: 50%;
		border: 2px solid rgba(220, 220, 220, 0.7);
		opacity: 0;
	}

	.prairie-pointer::before {
		animation: prairiePulseSlow 2.2s ease-out infinite;
	}

	.prairie-pointer::after {
		animation: prairiePulseFast 1.3s ease-out infinite;
		animation-delay: 0.45s;
	}

	@keyframes prairiePulseSlow {
		0% {
			transform: scale(1);
			opacity: 0.95;
		}

		70% {
			transform: scale(3.4);
			opacity: 0;
		}

		100% {
			opacity: 0;
		}
	}

	@keyframes prairiePulseFast {
		0% {
			transform: scale(1);
			opacity: 0.8;
		}

		60% {
			transform: scale(2.6);
			opacity: 0;
		}

		100% {
			opacity: 0;
		}
	}

	/* Jalons */

	.prairie-milestone {
		--prairie-position: 0;
		position: absolute;
		top: 50%;
		left: calc(10% + (1 - var(--prairie-position)) * 80%);
		transform: translate(-50%, -50%);
		width: 0.35vw;
		height: 0.35vw;
		min-width: 12px;
		min-height: 12px;
		border-radius: 50%;
		border: none;
		background: #939393;
		cursor: pointer;
		z-index: 4;
		padding: 0;
		outline: none;
		pointer-events: auto;
	}

	.prairie-milestone::after {
		content: "";
		position: absolute;
		top: 100%;
		left: 50%;
		width: 1px;
		height: 25px;
		margin-top: 4px;
		transform: translateX(-50%);
		background: #6d6d6d;
	}

	.prairie-milestone--active {
		background: #f9ebcf;
	}

	.prairie-root--locked .prairie-endpoint,
	.prairie-root--locked .prairie-milestone {
		pointer-events: none;
		cursor: default;
	}

	/* L√©gende */

	.prairie-legend {
		margin-top: 1rem;
		padding: 0 10%;
		display: flex;
		justify-content: space-between;
		gap: 1rem;
		font-family: "noteworthy", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
		font-size: 0.85rem;
		color: #b0b0b0;
		z-index: 3;
		position: relative;
	}

	.prairie-legend span {
		white-space: nowrap;
	}

	.prairie-riddle {
		margin-top: 4rem;
		margin-left: 35%;
		font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
		color: #b0b0b0;
	}

	.prairie-riddle--hidden {
		display: none;
	}

	/* === Journal === */

	.prairie-journal {
		width: 80%;
		margin: 4vh 10% 8vh;
		max-width: none;
		padding: 2rem 2rem 2.5rem;
		background: #101010;
		border-radius: 10px;
		box-shadow: 0 20px 40px rgba(0, 0, 0, 0.75);
		font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
		color: #f2f2f2;
		position: relative;
	}

	.prairie-journal--hidden {
		display: none;
	}

	.prairie-journal-header {
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		padding-bottom: 0.75rem;
		margin-bottom: 1.5rem;
		border-bottom: 1px solid rgba(255, 255, 255, 0.08);
		gap: 1rem;
	}

	/* Variante sans en-t√™te */

	.prairie-journal--noheader .prairie-journal-header {
		border-bottom: none;
		padding-bottom: 0;
		margin-bottom: 1.5rem;
	}

	.prairie-journal--noheader #prairie-journal-title,
	.prairie-journal--noheader #prairie-journal-date {
		display: none;
	}

	.prairie-journal-header h2 {
		margin: 0;
		font-size: 1.4rem;
		letter-spacing: 0.08em;
		text-transform: uppercase;
	}

	.prairie-journal-date {
		margin: 0.25rem 0 0;
		font-size: 0.8rem;
		letter-spacing: 0.16em;
		text-transform: uppercase;
		color: #9a9a9a;
	}

	.prairie-journal-close {
		position: absolute;
		top: 0.7rem;
		right: 0.7rem;
		background: transparent;
		border: none;
		font-size: 1.4rem;
		line-height: 1;
		cursor: pointer;
		color: #aaaaaa;
		padding: 0.1rem 0.3rem;
	}

	.prairie-journal-close:hover,
	.prairie-journal-close:focus-visible {
		color: #ffffff;
	}

	.prairie-journal-layout {
		display: block;
	}

	.prairie-journal-main-article {
		font-size: 0.96rem;
		line-height: 1.7;
		text-align: left;
	}

	.prairie-journal-main-article p {
		margin: 0 0 0.9rem;
	}

	.prairie-journal-secondary {
		margin-top: 1.4rem;
		padding-top: 0.6rem;
		border-top: 1px solid rgba(255, 255, 255, 0.08);
		font-size: 0.9rem;
		line-height: 1.6;
		color: #d0d0d0;
	}

	/* QR code */

	.prairie-qr-layout {
		display: flex;
		justify-content: center;
		align-items: center;
		margin-top: 1rem;
	}

	.prairie-qr-card {
		position: relative;
		max-width: 360px;
		width: 100%;
		padding: 1.6rem 1.8rem 2rem;
		border-radius: 20px;
		background:
			radial-gradient(circle at top left, rgba(255, 255, 255, 0.07), transparent 55%),
			radial-gradient(circle at bottom right, rgba(0, 160, 255, 0.08), transparent 60%),
			rgba(10, 10, 10, 0.96);
		box-shadow:
			0 18px 40px rgba(0, 0, 0, 0.9),
			0 0 0 1px rgba(255, 255, 255, 0.04);
		overflow: hidden;
		animation: prairieQrFloat 7s ease-in-out infinite alternate;
	}

	.prairie-qr-card::before {
		content: "";
		position: absolute;
		inset: -40%;
		background: radial-gradient(circle at top, rgba(255, 255, 255, 0.08), transparent 70%);
		opacity: 0.35;
		filter: blur(18px);
		pointer-events: none;
	}

	/* Variante: succ√®s / √©chec */
	.prairie-qr-card--success {
		background:
			radial-gradient(circle at top left, rgba(64, 255, 192, 0.18), transparent 60%),
			radial-gradient(circle at bottom right, rgba(0, 120, 255, 0.16), transparent 65%),
			rgba(8, 16, 16, 0.98);
	}

	.prairie-qr-card--success::before {
		background: radial-gradient(circle at top, rgba(40, 255, 200, 0.22), transparent 70%);
	}

	.prairie-qr-card--error {
		background:
			radial-gradient(circle at top left, rgba(255, 140, 80, 0.22), transparent 60%),
			radial-gradient(circle at bottom right, rgba(255, 40, 120, 0.14), transparent 65%),
			rgba(20, 8, 8, 0.98);
	}

	.prairie-qr-card--error::before {
		background: radial-gradient(circle at top, rgba(255, 120, 80, 0.25), transparent 70%);
	}

	@keyframes prairieQrFloat {
		0% {
			transform: translateY(0);
			box-shadow:
				0 18px 40px rgba(0, 0, 0, 0.9),
				0 0 0 1px rgba(255, 255, 255, 0.04);
		}

		100% {
			transform: translateY(-6px);
			box-shadow:
				0 24px 52px rgba(0, 0, 0, 0.95),
				0 0 0 1px rgba(255, 255, 255, 0.06);
		}
	}

	.prairie-qr-figure {
		position: relative;
		margin: 0;
		text-align: center;
		z-index: 1;
	}

	.prairie-qr-figure img {
		display: block;
		width: 100%;
		max-width: 240px;
		height: auto;
		margin: 0 auto;
		border-radius: 18px;
		border: 1px solid rgba(255, 255, 255, 0.14);
		box-shadow:
			0 0 18px rgba(0, 0, 0, 0.9),
			0 0 26px rgba(255, 255, 255, 0.16);
	}

	.prairie-qr-figure figcaption {
		margin-top: 0.7rem;
		font-size: 0.8rem;
		color: #d0d0d0;
		line-height: 1.6;
	}

	.prairie-qr-caption-label {
		display: block;
		margin-bottom: 0.15rem;
		font-size: 0.72rem;
		letter-spacing: 0.16em;
		text-transform: uppercase;
		color: #aaaaaa;
		opacity: 0.9;
	}

	/* === La Terre === */

	.prairie-earth-layout {
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		gap: 2rem;
	}

	.prairie-earth-figure {
		margin: 0;
		max-width: 260px;
		flex: 0 0 auto;
		text-align: center;
	}

	.prairie-earth-figure img {
		display: block;
		width: 100%;
		height: auto;
		border-radius: 18px;
		box-shadow: 0 0 18px rgba(0, 0, 0, 0.9);
	}

	.prairie-earth-figure figcaption {
		margin-top: 0.5rem;
		font-size: 0.8rem;
		color: #bcbcbc;
	}

	.prairie-earth-text {
		flex: 1 1 220px;
		position: relative;
		padding: 1.2rem 1.4rem;
		border-radius: 16px;
		background:
			radial-gradient(circle at top left, rgba(255, 255, 255, 0.08), transparent 60%),
			rgba(255, 255, 255, 0.02);
		box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.04);
	}

	.prairie-earth-coords {
		font-size: 1.3rem;
		line-height: 1.3;
		margin: 0 0 0.6rem;
		letter-spacing: 0.06em;
		text-align: center;
	}

	.prairie-earth-coords span {
		opacity: 0.95;
	}

	.prairie-earth-legend {
		margin: 0;
		text-align: center;
		font-style: italic;
		font-size: 0.95rem;
		color: #dcdcdc;
	}

	/* === Mars === */

	.prairie-mars-layout {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
	}

	.prairie-mars-figure {
		margin: 0 auto 1.5rem;
		max-width: 260px;
		text-align: center;
	}

	.prairie-mars-figure img {
		display: block;
		width: 100%;
		height: auto;
		border-radius: 50%;
		box-shadow: 0 0 18px rgba(0, 0, 0, 0.9);
	}

	.prairie-mars-figure figcaption {
		margin-top: 0.5rem;
		font-size: 0.8rem;
		color: #bcbcbc;
	}

	.prairie-mars-columns {
		display: grid;
		grid-template-columns: repeat(2, minmax(0, 1fr));
		gap: 1.6rem;
	}

	.prairie-mars-columns h3 {
		margin: 0 0 0.75rem;
		font-size: 0.9rem;
		text-transform: uppercase;
		letter-spacing: 0.16em;
		color: #dcdcdc;
	}

	.prairie-deflist {
		margin: 0;
		padding: 0;
	}

	.prairie-deflist-row {
		display: flex;
		justify-content: space-between;
		align-items: baseline;
		gap: 0.65rem;
		padding: 0.18rem 0;
		border-bottom: 1px dotted rgba(255, 255, 255, 0.06);
	}

	.prairie-deflist-row:last-child {
		border-bottom: none;
	}

	.prairie-deflist dt {
		font-weight: 500;
		font-size: 0.8rem;
		color: #bfbfbf;
	}

	.prairie-deflist dd {
		margin: 0;
		font-size: 0.8rem;
		text-align: right;
		color: #f3f3f3;
		white-space: nowrap;
	}

	/* Pied de page */

	.prairie-footer-symbols {
		margin: 3rem 0 2rem;
		margin-top: auto;
		text-align: center;
		font-size: 0.65rem;
		color: #333333;
		font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
	}

	.prairie-footer-earth {
		display: inline-block;
		font-size: 1.5em;
		transform: translateY(-5%);
	}

	/* Responsive */

	@media (max-width: 900px) {
		.prairie-mars-columns {
			grid-template-columns: 1fr;
		}

		.prairie-earth-layout {
			flex-direction: column;
			align-items: stretch;
		}
	}

	@media (max-width: 600px) {
		.prairie-progress {
			margin-top: 5vh;
		}

		.prairie-track {
			min-height: 80px;
		}

		.prairie-legend {
			flex-direction: column;
			align-items: flex-start;
		}
	}
</style>

<script>
	(function () {
		// --- Dates (UTC helpers) ---
		function utcDate(year, month, day) {
			return new Date(Date.UTC(year, month - 1, day));
		}

		const startDate = utcDate(2025, 9, 1);  // 1er septembre 2025
		const endDate = utcDate(2026, 6, 1);    // 1er juin 2026
		const totalDistanceKm = 349.73e6;		// distance Terre-Mars fin ao√ªt

		const USE_MANUAL_DATE = false;
		const MANUAL_DATE = utcDate(2025, 12, 31); // exemple

		const dateFormatter = new Intl.DateTimeFormat("fr-FR", {
			day: "numeric",
			month: "long",
			year: "numeric"
		});

		const numberFormatterMillions = new Intl.NumberFormat("fr-FR", {
			minimumFractionDigits: 1,
			maximumFractionDigits: 1
		});

		function progressFor(date) {
			const total = endDate.getTime() - startDate.getTime();
			if (total <= 0) return 0;

			let elapsed = date.getTime() - startDate.getTime();
			if (elapsed < 0) elapsed = 0;
			if (elapsed > total) elapsed = total;

			return elapsed / total;
		}

		function updateProgressOnce() {
			const now = USE_MANUAL_DATE ? MANUAL_DATE : new Date();
			const progress = progressFor(now);

			document.documentElement.style.setProperty(
				"--prairie-progress",
				progress.toString()
			);

			const dateLabel = document.getElementById("prairie-date-label");
			const distanceLabel = document.getElementById("prairie-distance-label");
			if (!dateLabel || !distanceLabel) return;

			dateLabel.textContent = "Aujourd‚Äôhui : " + dateFormatter.format(now);

			const traveledKm = totalDistanceKm * progress;
			const traveledMillions = traveledKm / 1e6;
			const totalMillions = totalDistanceKm / 1e6;

			distanceLabel.textContent =
				numberFormatterMillions.format(traveledMillions) +
				" / " +
				numberFormatterMillions.format(totalMillions) +
				" millions de km";
		}

		// --- Articles ---

		const lorem = "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>";

		const milestoneConfig = [
			{
				id: "ms-2025-09-26",
				date: utcDate(2025, 9, 26),
				label: "26 septembre 2025",
				title: "Gazette interplan√©taire",
				main: lorem,
				secondary: ""
			},
			{
				id: "ms-2025-12-01",
				date: utcDate(2025, 12, 1),
				label: "1 d√©cembre 2025",
				title: "Chronique en saison froide",
				main: lorem,
				secondary: ""
			},
			{
				id: "ms-2026-02-11",
				date: utcDate(2026, 2, 11),
				label: "11 f√©vrier 2026",
				title: "√âdition de mi-parcours",
				main: lorem,
				secondary: ""
			}
		];

		const endpointEntries = {
			"endpoint-left": {
				title: "Terre",
				label: "",
				main: `
          <div class="prairie-earth-layout">
            <figure class="prairie-earth-figure">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/The_Earth_seen_from_Apollo_17.jpg/900px-The_Earth_seen_from_Apollo_17.jpg"
                alt="Image de la Terre vue depuis l'espace">
              <figcaption>
                La Terre vue par Apollo&nbsp;17 (NASA).
              </figcaption>
            </figure>
            <div class="prairie-earth-text">
              <p class="prairie-earth-coords">
                <span>48.74782451585052, 2.272479816718329</span>
              </p>
              <p class="prairie-earth-legend"><em>Novitas est terra felicitatis</em></p>
            </div>
          </div>
        `,
				secondary: ""
			},
			"endpoint-right": {
				title: "Mars",
				label: "Plan√®te tellurique",
				main: `
          <div class="prairie-mars-layout">
            <figure class="prairie-mars-figure">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/OSIRIS_Mars_true_color.jpg/960px-OSIRIS_Mars_true_color.jpg"
                alt="Image en vraies couleurs de la plan√®te Mars">
              <figcaption>
                Image de Mars en vraies couleurs (ESA / Rosetta / OSIRIS).
              </figcaption>
            </figure>

            <div class="prairie-mars-columns">
              <div>
                <h3>Caract√©ristiques orbitales</h3>
                <dl class="prairie-deflist">
                  <div class="prairie-deflist-row">
                    <dt>Demi-grand axe</dt>
                    <dd>227&nbsp;944&nbsp;000&nbsp;km (1,52371&nbsp;UA)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Aph√©lie</dt>
                    <dd>249&nbsp;230&nbsp;000&nbsp;km (1,66602&nbsp;UA)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>P√©rih√©lie</dt>
                    <dd>206&nbsp;655&nbsp;000&nbsp;km (1,3814&nbsp;UA)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Circonf√©rence orbitale</dt>
                    <dd>1&nbsp;429&nbsp;083&nbsp;000&nbsp;km (9,55283&nbsp;UA)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Excentricit√©</dt>
                    <dd>0,09339</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>P√©riode de r√©volution</dt>
                    <dd>686,885&nbsp;j (‚âà&nbsp;1,88&nbsp;an)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>P√©riode synodique</dt>
                    <dd>779,804&nbsp;j</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Vitesse orbitale moyenne</dt>
                    <dd>24,080&nbsp;km/s</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Vitesse au p√©rih√©lie</dt>
                    <dd>26,503&nbsp;km/s</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Vitesse √† l‚Äôaph√©lie</dt>
                    <dd>21,975&nbsp;km/s</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Inclinaison sur l‚Äô√©cliptique</dt>
                    <dd>1,85¬∞</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>N≈ìud ascendant</dt>
                    <dd>49,6¬∞</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Argument du p√©rih√©lie</dt>
                    <dd>286,5¬∞</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Satellites connus</dt>
                    <dd>2 (Phobos, D√©imos)</dd>
                  </div>
                </dl>

                <h3>Caract√©ristiques physiques</h3>
                <dl class="prairie-deflist">
                  <div class="prairie-deflist-row">
                    <dt>Rayon √©quatorial</dt>
                    <dd>3&nbsp;396,2&nbsp;km (0,533&nbsp;Terre)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Rayon polaire</dt>
                    <dd>3&nbsp;376,2&nbsp;km (0,531&nbsp;Terre)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Rayon moyen</dt>
                    <dd>3&nbsp;389,5&nbsp;km (0,532&nbsp;Terre)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Aplatissement</dt>
                    <dd>0,00589</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>P√©rim√®tre √©quatorial</dt>
                    <dd>21&nbsp;344&nbsp;km</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Superficie</dt>
                    <dd>144&nbsp;798&nbsp;500&nbsp;km¬≤ (0,284&nbsp;Terre)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Volume</dt>
                    <dd>1,6318&nbsp;√ó&nbsp;10<sup>11</sup>&nbsp;km¬≥</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Masse</dt>
                    <dd>6,4185&nbsp;√ó&nbsp;10<sup>23</sup>&nbsp;kg (0,107&nbsp;Terre)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Masse volumique</dt>
                    <dd>3&nbsp;933,5&nbsp;kg/m¬≥</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Gravit√© de surface</dt>
                    <dd>3,711&nbsp;m/s¬≤ (0,379&nbsp;g)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Vitesse de lib√©ration</dt>
                    <dd>5,027&nbsp;km/s</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Jour sid√©ral</dt>
                    <dd>1,025957&nbsp;j (24,622962&nbsp;h)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Rotation √† l‚Äô√©quateur</dt>
                    <dd>868,220&nbsp;km/h</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Inclinaison de l‚Äôaxe</dt>
                    <dd>25,19¬∞</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Alb√©dos (visuel / Bond)</dt>
                    <dd>0,15 / 0,25</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Irradiance solaire</dt>
                    <dd>589,2&nbsp;W/m¬≤ (0,431&nbsp;Terre)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>T¬∞ √©quilibre (corps noir)</dt>
                    <dd>210,1&nbsp;K (‚Äì62,9&nbsp;¬∞C)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>T¬∞ de surface (max / moy / min)</dt>
                    <dd>293&nbsp;K / 210&nbsp;K / 130&nbsp;K</dd>
                  </div>
                </dl>
              </div>

              <div>
                <h3>Atmosph√®re martienne</h3>
                <dl class="prairie-deflist">
                  <div class="prairie-deflist-row">
                    <dt>Pression au sol</dt>
                    <dd>‚âà&nbsp;610&nbsp;Pa (30‚Äì1&nbsp;155)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Densit√© au sol</dt>
                    <dd>0,020&nbsp;kg/m¬≥</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Masse totale</dt>
                    <dd>2,5&nbsp;√ó&nbsp;10<sup>16</sup>&nbsp;kg</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Hauteur d‚Äô√©chelle</dt>
                    <dd>11,1&nbsp;km</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Masse molaire moyenne</dt>
                    <dd>43,34&nbsp;g/mol</dd>
                  </div>
                </dl>

                <h3>Composition principale</h3>
                <dl class="prairie-deflist">
                  <div class="prairie-deflist-row">
                    <dt>CO‚ÇÇ</dt>
                    <dd>96,0&nbsp;%</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Argon (Ar)</dt>
                    <dd>1,93&nbsp;%</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Diazote (N‚ÇÇ)</dt>
                    <dd>1,89&nbsp;%</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>O‚ÇÇ</dt>
                    <dd>0,145&nbsp;%</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>CO</dt>
                    <dd>0,07&nbsp;%</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>H‚ÇÇO (vapeur)</dt>
                    <dd>0,03&nbsp;%</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>NO</dt>
                    <dd>130&nbsp;ppm</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>H‚ÇÇ</dt>
                    <dd>15&nbsp;ppm</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Ne</dt>
                    <dd>2,5&nbsp;ppm</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>HDO</dt>
                    <dd>850&nbsp;ppb</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Kr</dt>
                    <dd>300&nbsp;ppb</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>CH‚ÇÇO</dt>
                    <dd>130&nbsp;ppb</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Xe</dt>
                    <dd>80&nbsp;ppb</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>O‚ÇÉ</dt>
                    <dd>30&nbsp;ppb</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>H‚ÇÇO‚ÇÇ</dt>
                    <dd>18&nbsp;ppb</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>CH‚ÇÑ</dt>
                    <dd>10,5&nbsp;ppb</dd>
                  </div>
                </dl>

                <h3>R√©f√©rences culturelles</h3>
                <dl class="prairie-deflist">
                  <div class="prairie-deflist-row">
                    <dt>Divinit√© babylonienne</dt>
                    <dd>Nergal</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Divinit√© grecque</dt>
                    <dd>·ºåœÅŒ∑œÇ (Ar√®s)</dd>
                  </div>
                  <div class="prairie-deflist-row">
                    <dt>Nom chinois</dt>
                    <dd>Hu«íxƒ´ng (ÁÅ´Êòü, ¬´&nbsp;feu&nbsp;¬ª)</dd>
                  </div>
                </dl>
              </div>
            </div>
          </div>
        `,
				secondary: ""
			}
		};

		// Articles secrets (di√®se)
		const secretDefault = {
			title: "",
			label: "",
			main: `
        <p class="prairie-earth-coords">
          <span>¬´&nbsp;√ätes-vous perdu voyageur&nbsp;?&nbsp;¬ª</span>
        </p>
      `,
			secondary: ""
		};

		const secretBienvenue = {
			title: "",
			label: "",
			main: `
        <figure style="margin:0; text-align:center;">
          <img src="article_d3_1a.jpg" alt="Bienvenue"
            style="
              display:block;
              max-width: 720px;
              width: 100%;
              margin: 0 auto;
              border-radius: 14px;
              box-shadow: 0 18px 36px rgba(0,0,0,0.65);
            ">
        </figure>
      `,
			secondary: ""
		};

		const secretEntries = {
			"4815162342": secretDefault,
			"bienvenue": secretBienvenue
		};

		const qrEntryWrong = {
			title: "",
			label: "",
			main: `
    <div class="prairie-qr-layout">
      <div class="prairie-qr-card prairie-qr-card--error">
        <figure class="prairie-qr-figure">
          <img
            src="qr_default_4815162342.png"
            alt="udrep">
          <figcaption>
          O√π allez-vous? 
		  <p>Pensez √† fermer la porte en partant.</p>
		  </figcaption>
        </figure>
      </div>
    </div>
  `,
			secondary: ""
		};

		const qrEntryCorrect = {
			title: "",
			label: "",
			main: `
    <div class="prairie-qr-layout">
      <div class="prairie-qr-card prairie-qr-card--success">
        <figure class="prairie-qr-figure">
          <img
            src="qr_found_bienvenue.png"
            alt="#Bienvenue">
          <figcaption>
          Quelque chose a chang√©, je le vois clairement.
          </figcaption>
        </figure>
      </div>
    </div>
  `,
			secondary: ""
		};

		function getEntryById(id) {
			if (endpointEntries[id]) return endpointEntries[id];
			return milestoneConfig.find(m => m.id === id) || null;
		}

		// --- Journal UI helpers ---

		function clearActiveStates() {
			document
				.querySelectorAll(".prairie-milestone")
				.forEach(el => el.classList.remove("prairie-milestone--active"));

			document
				.querySelectorAll(".prairie-endpoint")
				.forEach(el => el.classList.remove("prairie-endpoint--active"));
		}

		function openJournalWith(data, opts) {
			const journal = document.getElementById("prairie-journal");
			const titleEl = document.getElementById("prairie-journal-title");
			const dateEl = document.getElementById("prairie-journal-date");
			const mainEl = document.getElementById("prairie-journal-main-article");
			const secondaryEl = document.getElementById("prairie-journal-secondary");

			if (!journal || !titleEl || !dateEl || !mainEl || !secondaryEl) return;

			titleEl.textContent = data.title || "";
			dateEl.textContent = data.label || "";
			mainEl.innerHTML = data.main || "";
			secondaryEl.innerHTML = data.secondary || "";

			const noHeader = !!(opts && opts.noHeader);
			journal.classList.toggle("prairie-journal--noheader", noHeader);

			journal.classList.remove("prairie-journal--hidden");

			setRiddleVisible(false);
		}


		function closeJournal() {
			if (huntCompleted) {
				// Apr√®s une s√©quence de 5 clics, recharger le site √† la fermeture de l'article
				window.location.href = "{{ site.baseurl }}/prairie";
				return;
			}

			const journal = document.getElementById("prairie-journal");
			if (journal) {
				journal.classList.add("prairie-journal--hidden");
				journal.classList.remove("prairie-journal--noheader");
			}
			clearActiveStates();

			setRiddleVisible(true);
		}


		function setRiddleVisible(visible) {
			const riddle = document.getElementById("prairie-riddle");
			if (!riddle) return;
			riddle.classList.toggle("prairie-riddle--hidden", !visible);
		}

		// --- Puzzle ---

		const bulletsEl = document.getElementById("prairie-bullets");
		let clickCount = 0;
		let clickSequence = [];

		let huntCompleted = false;

		function deactivateInteractions() {
			huntCompleted = true;

			const root = document.querySelector(".prairie-root");
			if (root) {
				root.classList.add("prairie-root--locked");
			}

			document
				.querySelectorAll(".prairie-endpoint, .prairie-milestone")
				.forEach((el) => {
					el.setAttribute("aria-disabled", "true");

					if (el.tagName === "BUTTON") {
						el.disabled = true; // Les jalons sont actifs
					} else {
						el.setAttribute("tabindex", "-1"); // Les extr√©mit√©s sont div[role="button"]
					}
				});
		}

		// Ordre chronologique (droite √† gauche):
		// Mars ‚Üí 26/09/2025 ‚Üí 01/12/2025 ‚Üí 11/02/2026 ‚Üí Earth
		const targetOrder = [
			"endpoint-right",
			"ms-2025-09-26",
			"ms-2025-12-01",
			"ms-2026-02-11",
			"endpoint-left"
		];

		function setBulletsVisible(visible) {
			if (!bulletsEl) return;
			bulletsEl.classList.toggle("prairie-bullets--hidden", !visible);
			bulletsEl.classList.toggle("prairie-bullets--visible", visible);
			bulletsEl.setAttribute("aria-hidden", visible ? "false" : "true");
		}

		function resetHunt() {
			clickCount = 0;
			clickSequence = [];
			setBulletsVisible(false);
			if (!bulletsEl) return;
			bulletsEl.querySelectorAll(".prairie-bullet").forEach(b => {
				b.classList.remove("prairie-bullet--armed", "prairie-bullet--on");
			});
		}


		function updateBullets() {
			if (!bulletsEl) return;
			const bullets = bulletsEl.querySelectorAll(".prairie-bullet");

			// Apr√®s le premier clic, toutes les puces apparaissent
			bullets.forEach(b => b.classList.add("prairie-bullet--armed"));

			// suivi des activations
			bullets.forEach((b, idx) => {
				b.classList.toggle("prairie-bullet--on", idx < clickCount);
			});
		}

		function registerClick(entryId) {
			if (huntCompleted) return false;

			if (clickCount === 0) {
				setBulletsVisible(true);
			}

			clickCount += 1;
			clickSequence.push(entryId);
			updateBullets();

			if (clickCount >= 5) {
				const isCorrect =
					clickSequence.length === targetOrder.length &&
					clickSequence.every((id, i) => id === targetOrder[i]);

				// Affichage du QR code
				const qrData = isCorrect ? qrEntryCorrect : qrEntryWrong;

				deactivateInteractions();
				openJournalWith(qrData, { noHeader: true });

				return true;
			}

			return false;
		}


		// --- Les secrets di√®ses ---

		function openFromHash() {
			const raw = (window.location.hash || "").replace(/^#/, "");
			if (!raw) return;

			const secret = secretEntries[raw];
			if (!secret) return;

			clearActiveStates();
			openJournalWith(secret, { noHeader: true });
		}

		// --- Gestion des clics (d√©sactivation/activation) ---

		function handleEntryClick(entryId) {
			if (huntCompleted) return;

			const revealed = registerClick(entryId);
			if (revealed) return; // QR visible

			const data = getEntryById(entryId);
			if (!data) return;

			const noHeader = (entryId === "endpoint-left");
			openJournalWith(data, { noHeader });

			clearActiveStates();

			// Suivi du jalon visible
			const milestoneEl = document.querySelector(
				'.prairie-milestone[data-entry-id="' + entryId + '"]'
			);
			if (milestoneEl) {
				milestoneEl.classList.add("prairie-milestone--active");
			}

			const endpointEl = document.querySelector(
				'.prairie-endpoint[data-entry-id="' + entryId + '"]'
			);
			if (endpointEl) {
				endpointEl.classList.add("prairie-endpoint--active");
			}
		}


		function attachEndpointHandlers() {
			["endpoint-left", "endpoint-right"].forEach((id) => {
				const el = document.querySelector(
					'.prairie-endpoint[data-entry-id="' + id + '"]'
				);
				if (!el) return;

				el.addEventListener("click", () => handleEntryClick(id));

				el.addEventListener("keydown", (evt) => {
					if (evt.key === "Enter" || evt.key === " ") {
						evt.preventDefault();
						handleEntryClick(id);
					}
				});
			});
		}

		function createMilestones() {
			const track = document.getElementById("prairie-track");
			if (!track) return;

			milestoneConfig.forEach((ms) => {
				const button = document.createElement("button");
				button.type = "button";
				button.className = "prairie-milestone";
				button.setAttribute("aria-label", ms.label);
				button.title = ms.label;
				button.dataset.entryId = ms.id;

				const frac = progressFor(ms.date);
				button.style.setProperty("--prairie-position", frac.toString());

				button.addEventListener("click", () => handleEntryClick(ms.id));

				track.appendChild(button);
			});
		}

		// --- Boot ---

		document.addEventListener("DOMContentLoaded", function () {
			createMilestones();
			updateProgressOnce();
			attachEndpointHandlers();

			const closeBtn = document.getElementById("prairie-journal-close");
			if (closeBtn) {
				closeBtn.addEventListener("click", closeJournal);
			}

			resetHunt();
			openFromHash();
			window.addEventListener("hashchange", openFromHash);
		});
	})();
</script>