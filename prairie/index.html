---
layout: default
title: prairie
permalink: /prairie/
---

<div class="prairie-root">
	<section class="prairie-progress" aria-labelledby="prairie-heading">
		<h2 id="prairie-heading" class="prairie-sr-only">Progression du trajet Prairie</h2>

		<div class="prairie-track" id="prairie-track" aria-hidden="false">
			<!-- Ligne pointillée version sci-fi -->
			<div class="prairie-line" aria-hidden="true"></div>

			<!-- Portion déjà parcourue en trait plein -->
			<div class="prairie-line-completed" aria-hidden="true"></div>

			<!-- Extrémités -->
			<div class="prairie-endpoint prairie-endpoint--left" aria-label="Arrivée"></div>
			<div class="prairie-endpoint prairie-endpoint--right" aria-label="Départ"></div>

			<!-- Curseur -->
			<div class="prairie-pointer" id="prairie-pointer" aria-label="Position actuelle sur le trajet"></div>

			<!-- Jalons injectés via JavaScript -->
		</div>

		<div class="prairie-legend">
			<span id="prairie-date-label"></span>
			<span id="prairie-distance-label"></span>
		</div>
	</section>
</div>

<style>
	/* === Styles prairie (version "barre seule") === */

	:root {
		/* 0 = départ (cercle rouge à droite), 1 = arrivée (cercle bleu à gauche) */
		--prairie-progress: 0;
	}

	body {
		margin: 0;
		padding: 0;
		background: #000000;
		color: #dddddd;
	}

	/* Masquer le H1 injecté par le layout et l’ancien titre visible */
	main h1,
	.page-title,
	.prairie-title,
	.markdown-body h1 {
		display: none !important;
	}

	.prairie-root {
		min-height: 100vh;
		display: flex;
		flex-direction: column;
	}

	/* Texte uniquement pour lecteurs d’écran */
	.prairie-sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border: 0;
	}

	/* Progression sur le tiers supérieur */

	.prairie-progress {
		max-width: 100%;
		width: 100%;
		margin: 6vh auto 4vh;
		padding: 0;
		position: relative;
	}

	/* La piste s'étend sur toute la largeur, la trajectoire elle-même fait 80% */

	.prairie-track {
		position: relative;
		width: 100%;
		height: 12vh;
		min-height: 90px;
		z-index: 3;
	}

	/* Ligne pointillée futuriste – affinée pour matcher la barre, pattern 8px x 4px */

	.prairie-line {
		position: absolute;
		top: 50%;
		left: 10%;
		width: 80%;
		height: 4px;
		transform: translateY(-50%);
		background-image:
			radial-gradient(circle,
				rgba(190, 190, 190, 0.9) 0,
				rgba(190, 190, 190, 0.9) 45%,
				transparent 55%);
		background-size: 8px 4px;
		background-repeat: repeat-x;
		opacity: 0.65;
		border-radius: 999px;
		filter: drop-shadow(0 0 6px rgba(200, 200, 200, 0.35));
		z-index: 0;
		pointer-events: none;
	}

	/* Segment complété en trait plein, posé au-dessus de la ligne pointillée */

	.prairie-line-completed {
		position: absolute;
		top: 50%;
		left: 10%;
		width: 80%;
		height: 8px;
		transform: translateY(-50%);
		pointer-events: none;
		z-index: 1;
	}

	.prairie-line-completed::before {
		content: "";
		position: absolute;
		top: 50%;
		right: 0;
		transform: translateY(-50%);
		height: 4px;
		width: calc(var(--prairie-progress) * 100%);
		background: rgba(200, 200, 200, 0.68);
		border-radius: 999px;
		box-shadow:
			0 0 6px rgba(220, 220, 220, 0.6),
			0 0 10px rgba(220, 220, 220, 0.4);
	}

	/* Cercles d'extrémité */

	.prairie-endpoint {
		position: absolute;
		top: 50%;
		transform: translate(-50%, -50%);
		border-radius: 50%;
		z-index: 2;
		pointer-events: none;
	}

	/* Bleu / arrivée à gauche */
	.prairie-endpoint--left {
		left: 10%;
		width: 1.5vw;
		height: 1.5vw;
		min-width: 20px;
		min-height: 20px;
		background: #2f8bff;
		box-shadow:
			0 0 10px rgba(80, 170, 255, 0.9),
			0 0 22px rgba(80, 170, 255, 0.6);
	}

	/* Rouge / départ à droite */
	.prairie-endpoint--right {
		left: 90%;
		width: 1vw;
		height: 1vw;
		min-width: 16px;
		min-height: 16px;
		background: #ff7b45;
		box-shadow:
			0 0 10px rgba(255, 136, 76, 0.9),
			0 0 22px rgba(255, 136, 76, 0.6);
	}

	/* Curseur simplifié + pulsations */

	.prairie-pointer {
		position: absolute;
		top: 50%;
		left: calc(10% + (1 - var(--prairie-progress)) * 80%);
		width: 1.1vw;
		height: 1.1vw;
		min-width: 18px;
		min-height: 18px;
		border-radius: 50%;
		background: #d8d8d8;
		border: 2px solid #f0f0f0;
		transform: translate(-50%, -50%);
		z-index: 3;
		overflow: visible;
		pointer-events: none;
	}

	.prairie-pointer::before,
	.prairie-pointer::after {
		content: "";
		position: absolute;
		inset: 0;
		border-radius: 50%;
		border: 2px solid rgba(220, 220, 220, 0.7);
		opacity: 0;
	}

	.prairie-pointer::before {
		animation: prairiePulseSlow 2.2s ease-out infinite;
	}

	.prairie-pointer::after {
		animation: prairiePulseFast 1.3s ease-out infinite;
		animation-delay: 0.45s;
	}

	@keyframes prairiePulseSlow {
		0% {
			transform: scale(1);
			opacity: 0.95;
		}

		70% {
			transform: scale(3.4);
			opacity: 0;
		}

		100% {
			opacity: 0;
		}
	}

	@keyframes prairiePulseFast {
		0% {
			transform: scale(1);
			opacity: 0.8;
		}

		60% {
			transform: scale(2.6);
			opacity: 0;
		}

		100% {
			opacity: 0;
		}
	}

	/* Jalons (milestones) – décoratifs, non cliquables */

	.prairie-milestone {
		--prairie-position: 0;
		position: absolute;
		top: 50%;
		left: calc(10% + (1 - var(--prairie-position)) * 80%);
		transform: translate(-50%, -50%);
		width: 0.35vw;
		height: 0.35vw;
		min-width: 12px;
		min-height: 12px;
		border-radius: 50%;
		background: #939393;
		cursor: default;
		z-index: 4;
		padding: 0;
		outline: none;
		pointer-events: none;
	}

	.prairie-milestone::after {
		content: "";
		position: absolute;
		top: 100%;
		left: 50%;
		width: 1px;
		height: 25px;
		margin-top: 4px;
		transform: translateX(-50%);
		background: #6d6d6d;
	}

	/* Légende (date + distance) */

	.prairie-legend {
		margin-top: 1rem;
		padding: 0 10%;
		display: flex;
		justify-content: space-between;
		gap: 1rem;
		font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
		font-size: 0.85rem;
		color: #b0b0b0;
		z-index: 3;
		position: relative;
	}

	.prairie-legend span {
		white-space: nowrap;
	}

	/* Adaptation responsive */

	@media (max-width: 600px) {
		.prairie-progress {
			margin-top: 5vh;
		}

		.prairie-track {
			min-height: 80px;
		}

		.prairie-legend {
			flex-direction: column;
			align-items: flex-start;
		}
	}
</style>

<script>
	// === Logique Prairie – barre de progression seule ===

	(function () {
		// Dates clés du trajet (en UTC pour éviter les surprises de fuseaux)
		function utcDate(year, month, day) {
			// month = 1–12
			return new Date(Date.UTC(year, month - 1, day));
		}

		const startDate = utcDate(2025, 9, 1);  // 1er septembre 2025
		const endDate = utcDate(2026, 6, 1);    // 1er juin 2026

		// Distance totale représentée par les pointillés
		const totalDistanceKm = 349.73e6;

		// Pour figer la progression à une date donnée :
		const USE_MANUAL_DATE = false;
		const MANUAL_DATE = utcDate(2025, 12, 6); // exemple

		const dateFormatter = new Intl.DateTimeFormat("fr-FR", {
			day: "numeric",
			month: "long",
			year: "numeric"
		});

		const numberFormatterMillions = new Intl.NumberFormat("fr-FR", {
			minimumFractionDigits: 1,
			maximumFractionDigits: 1
		});

		function progressFor(date) {
			const total = endDate.getTime() - startDate.getTime();
			if (total <= 0) return 0;

			let elapsed = date.getTime() - startDate.getTime();
			if (elapsed < 0) elapsed = 0;
			if (elapsed > total) elapsed = total;

			return elapsed / total; // 0 → départ (rouge, droite), 1 → arrivée (bleu, gauche)
		}

		function updateProgressOnce() {
			const now = USE_MANUAL_DATE ? MANUAL_DATE : new Date();
			const progress = progressFor(now);

			document.documentElement.style.setProperty(
				"--prairie-progress",
				progress.toString()
			);

			const dateLabel = document.getElementById("prairie-date-label");
			const distanceLabel = document.getElementById("prairie-distance-label");
			if (!dateLabel || !distanceLabel) return;

			dateLabel.textContent = "Aujourd’hui : " + dateFormatter.format(now);

			const traveledKm = totalDistanceKm * progress;
			const traveledMillions = traveledKm / 1e6;
			const totalMillions = totalDistanceKm / 1e6;

			distanceLabel.textContent =
				numberFormatterMillions.format(traveledMillions) +
				" / " +
				numberFormatterMillions.format(totalMillions) +
				" millions de km";
		}

		// Jalons simples (dates) – uniquement décoratifs le long de la barre
		const milestoneDates = [
			{ date: utcDate(2025, 9, 26), label: "26 septembre 2025" },
			{ date: utcDate(2025, 12, 1), label: "1 décembre 2025" },
			{ date: utcDate(2026, 2, 11), label: "11 février 2026" }
		];

		function createMilestones() {
			const track = document.getElementById("prairie-track");
			if (!track) return;

			milestoneDates.forEach((ms, idx) => {
				const button = document.createElement("button");
				button.type = "button";
				button.className = "prairie-milestone";
				button.setAttribute("aria-label", ms.label);
				button.title = ms.label;

				const frac = progressFor(ms.date);
				button.style.setProperty("--prairie-position", frac.toString());

				// dataset kept simple in case of future use
				button.dataset.index = String(idx);

				track.appendChild(button);
			});
		}

		document.addEventListener("DOMContentLoaded", function () {
			createMilestones();
			updateProgressOnce();
		});
	})();
</script>